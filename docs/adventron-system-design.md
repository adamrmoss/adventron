# Adventron Game Console — Full Technical Design Report

## Introduction

The **Adventron** is a retro‑inspired game console built around Western Design Center’s **W65C265S** microcontroller. The W65C265S integrates a **65C816‑compatible CPU core** with on‑chip peripherals such as timers, UARTs, and chip‑select logic. The design presented here maps external memory and peripherals into the microcontroller’s 24‑bit address space and uses bit‑banged serial interfaces for modern devices. Graphics are handled by an **FTDI FT813** display controller that can drive an **800 × 600 display with 24‑bit colour** ([ftdichip.com](https://www.ftdichip.com)). Audio is generated by **Yamaha’s YMF825 FM synthesizer**, which provides 16 voices and a built‑in DAC ([device.yamaha.com](https://device.yamaha.com)). A **TDA9983B HDMI transmitter** converts the RGB and I²S streams into a single HDMI output ([media.digikey.com](https://media.digikey.com)). The system also includes an **SD card for mass storage**, a **DS1307 real‑time clock**, two **Atari‑style joystick ports** with optional analog paddle support through an **8‑channel ADC**, eight **toggle switches** on the front panel, and expansion headers for the microcontroller’s UARTs.

This report explains how the components are integrated, discusses the **maximum clock speed** of the W65C265S relative to peripheral performance, and provides a **full bill of materials (BoM)**. A block diagram showing the relationships between the major subsystems is included below.

---

## CPU and Clock Speed

### W65C265S Overview
According to the **WDC datasheet**, the W65C265S is a fully static CMOS device that operates from 2.8 V – 5.5 V and supports a static to 8 MHz bus clock ([westerndesigncenter.com](https://www.westerndesigncenter.com)). The microcontroller includes a W65C816S‑compatible CPU core with a 24‑bit address bus and a 16 MB linear address space. WDC’s product brief explicitly lists an 8 MHz operating bus speed. Internally, the device has a dual‑clock system: an external **CLK** pin and an optional **FCLK** oscillator. The **System Speed Control Register (SSCR)** allows **PHI2** (the bus clock) to be driven from either CLK or FCLK/4 and provides per‑chip‑select speed control. When FCLK is used, the datasheet notes that CLK must be no more than one‑quarter of the FCLK frequency. Typical FCLK oscillators of 3.579545 MHz or 4.000 MHz are suggested, implying bus frequencies of 1–4 MHz in slow mode or up to 4 MHz in fast mode.

Although WDC rates the W65C265S for 8 MHz, the underlying **W65C816S** core can run faster. The W65C816 datasheet’s AC characteristics show that when operated at 4.75–5.25 V, the processor can achieve **14 MHz** maximum clock frequency. Running the Adventron at 14 MHz therefore appears feasible if the external memory and bus decoding logic can keep up.

The selected SRAM has a 55 ns access time and operates from a single 2.7‑5.5 V supply ([farnell.com](https://www.farnell.com)), corresponding to approximately **18 MHz bandwidth**, so a 14 MHz bus is within tolerance. The Flash memories used for the cartridge and system ROM specify 70–90 ns access times (80 ns ≈ 12.5 MHz), so **wait states** may be needed when running above 8 MHz. For simplicity the system provides two PHI2 modes via the SSCR register: **high‑speed mode (≈14 MHz)** for SRAM access and **slow mode (≈7 MHz)** for Flash and peripheral accesses, using the SSCR bits to select FCLK or FCLK/4 on each chip‑select.

---

## Memory Map and Address Space

| Address Range | Size  | Device | Chip Select | Notes |
|----------------|--------|---------|--------------|-------|
| $000000–$3FFFFF | 4 MB | Static RAM | CS5B | 55 ns access, 16‑bit |
| $400000–$BFFFFF | 8 MB | Removable Flash Cartridge | CS6B | In‑circuit programmable |
| $C00000–$FFFFFF | 4 MB | System Flash ROM | CS7B | Boot and OS ROM |
| $E000–$FFFF | 8 KB | On‑chip Monitor ROM | — | Internal firmware |

The bus timing budget assumes 70 ns Flash, 55 ns SRAM, and up to 30 pF load. For high‑speed operation, bus traces must be kept under 100 mm and properly terminated (22 Ω series). Pull‑ups (10 kΩ) ensure clean logic transitions during PHI2 rise and fall.

---

## Graphics Subsystem

### FT813 Display Controller
The **FT813** (EVE 2 family) supports **up to 800×600@60 Hz** output with 24‑bit RGB. It contains 1 MB of display list memory and hardware widgets (bitmaps, text, gauges, etc.). The FT813 operates at 3.3 V and interfaces via SPI or QSPI. Because the W65C265S lacks hardware SPI, the FT813 is controlled through **bit‑banged SPI** using general‑purpose I/O lines.

### HDMI Output via TDA9983B
To modernize video output, the FT813’s 24‑bit RGB and sync signals feed a **TDA9983B HDMI transmitter**. The TDA9983B converts the RGB and horizontal/vertical syncs plus I²S audio into a compliant HDMI stream. The device runs from 3.3 V and requires a 27 MHz reference clock. The ADV7513 was considered as an alternative but TDA9983B offers simpler passive I²S routing and lower cost.

---

## Audio Subsystem

The **YMF825** synthesizer (Yamaha LSI, 16‑voice polyphonic FM + PCM) handles all sound generation. It communicates via SPI and outputs stereo DAC signals at 44.1 or 48 kHz. Its analog outputs feed an **RC summing network** followed by a **TPA6132A2** stereo amplifier, providing both line‑level and headphone drive.

For HDMI, the DAC output is also converted into I²S format and sent to the **TDA9983B** for embedded digital audio.

---

## Peripheral Interfaces

### Bit‑Banged SPI Devices
- **SD Card** – mass storage (FAT‑formatted, 4 MHz typical)
- **DS1307** – RTC with battery backup (100 kHz serial clock)
- **YMF825** – audio synthesizer (4 MHz SPI)

Each device has its own chip‑select line. The microcontroller’s GPIO lines 0–7 form the SPI bus.

### Analog and Digital Inputs
- **Paddles:** 8 analog channels via **ADC0808** (8‑bit, 0–5 V)
- **Joysticks:** 2 × DB‑9 Atari‑style ports, digital inputs only (optionally analog via ADC)
- **Toggle Switches:** 8 × SPDT switches on GPIO 32–39, polled by software.

### UART Expansion
Both onboard UARTs are exposed via 6‑pin headers for expansion or debugging. Each includes TX, RX, GND, VCC, and optional RTS/CTS.

---

## Power System

- **Input:** 5 V DC via barrel jack or USB‑C connector.
- **Voltage Rails:**
  - 5 V logic and CPU core.
  - 3.3 V LDO for FT813, YMF825, TDA9983B.
- **Regulators:** TLV75533PDBVR (3.3 V, 500 mA) and LM2937‑5.0 for system regulation.
- **Current Draw:** 650–900 mA typical under load.

Decoupling: 0.1 µF per IC, 10 µF per rail cluster. Bulk electrolytic 470 µF near DC input.

---

## PCB and Layout

Four‑layer design:
- Layer 1: Signals
- Layer 2: GND plane
- Layer 3: 3.3/5 V planes
- Layer 4: Signals

Differential HDMI lines routed at 100 Ω ± 10 %. All digital buses length‑matched to within 1 inch. Clock oscillator placed adjacent to W65C265S with minimal trace stub.

---

## Cartridge Interface

- 44‑pin edge connector (2×22)
- Signals: A[23:0], D[15:0], /CS6B, /RD, /WR, VCC, GND, /RESET
- Optional ID pins for future mapper support.

---

## Bill of Materials

| Part | Description | Example P/N | Notes |
|-------|-------------|--------------|-------|
| W65C265S | Microcontroller (16‑bit CPU) | W65C265S6TPLG‑14 | WDC PLCC‑84 |
| IS61WV409616BLL | 4 MB 16‑bit SRAM (55 ns) | IS61WV409616BLL‑10TLI | ISSI TSOP‑44 |
| SST39VF6401B | 8 MB NOR Flash (Cartridge) | SST39VF6401B‑70 | Microchip TSOP‑48 |
| SST39SF040 | 4 MB System Flash | SST39SF040‑55 | Microchip PLCC‑32 |
| FT813Q | Graphics Controller | FT813Q | Bridgetek QFN‑64 |
| TDA9983B | HDMI Transmitter | TDA9983BHN/C1 | NXP LQFP‑64 |
| YMF825 | Audio Synthesizer IC | YMF825 | Yamaha QFN |
| TPA6132A2 | Stereo Headphone Amp | TPA6132A2RTJR | TI QFN‑16 |
| DS1307 | Real‑Time Clock | DS1307Z+ | Analog Devices SOIC‑8 |
| ADC0808 | 8‑bit ADC | ADC0808CCN | TI PDIP‑28 |
| TLV75533 | 3.3 V LDO Regulator | TLV75533PDBVR | TI SOT‑23‑5 |
| LM2937‑5.0 | 5 V Regulator | LM2937ET‑5.0/NOPB | TI TO‑220 |
| Oscillator | 19.6608 MHz Crystal | ECS‑196‑20‑5PX | ECS HC‑49S |
| Oscillator | 27 MHz Crystal | ECS‑270‑20‑5PX | ECS HC‑49S |
| DB9 Ports | Atari‑style Joystick | L717SDE09PA4CH4F | Amphenol THT |
| microSD Slot | Card Connector | 503398‑1892 | Molex SMD |
| Toggle Switch | SPDT Miniature | 7101SYZQE | C&K THT |
| HDMI Port | Type‑A Receptacle | 10029449‑111RLF | Amphenol SMD |
| Power Jack | 5 V Barrel | PJ‑102AH | CUI THT |
| Passive Components | Resistors, Capacitors | — | Standard 0603/0805 |

---

## System Performance Summary
- **Bus Speed:** 14 MHz max (configurable)
- **Video Output:** 800×600 @ 60 Hz RGB/HDMI
- **Audio:** 16‑voice FM synthesis + stereo DAC
- **Storage:** microSD, up to 32 GB
- **I/O:** 2× DB9 joysticks, 8 toggle switches, 8 ADC inputs
- **Power:** 5 V DC, < 1 A typical

---

## Conclusion
The Adventron demonstrates that a classic 65xx‑based microcomputer can be expanded into a modern multimedia system using contemporary mixed‑signal ICs. The W65C265S’s chip‑select logic enables clean memory mapping, while the FT813 + TDA9983B pair provide high‑resolution video output compatible with HDMI displays. The YMF825 adds rich FM sound with minimal CPU overhead. Combined with solid‑state storage, an RTC, and legacy controller ports, the Adventron bridges the aesthetic and design philosophy of 1980s game hardware with the convenience of modern electronics.

